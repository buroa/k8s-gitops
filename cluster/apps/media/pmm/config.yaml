apiVersion: v1
kind: Secret
metadata:
  name: pmm-config
  namespace: media
stringData:
  config.yml: |
    libraries:
      Movies:
        metadata_path:
        - file: config/Pre-rolls.yml
        - file: config/Movies.yml
        - file: config/Movies - Holidays by Drazzizzi.yml
        - file: config/Movies - Trakt (Unplayed) by Magic815.yml
        overlay_path:
        - file: config/Movies - Overlays - Audio.yml
        - file: config/Movies - Overlays - Charts.yml
        - file: config/Movies - Overlays - Oscars.yml
        - file: config/Movies - Overlays - Ratings.yml
        - file: config/Movies - Overlays - Stand-up.yml
        - file: config/Movies - Overlays - Streaming Services.yml
        - file: config/Movies - Overlays - Studios.yml
        operations:
          mass_genre_update: imdb
          mass_content_rating_update: omdb
          mass_audience_rating_update: mdb_tomatoesaudience
          mass_critic_rating_update: mdb_metacritic
          mass_user_rating_update: imdb

      TV Shows:
        metadata_path:
        - file: config/TV Shows.yml
        overlay_path:
        - file: config/TV Shows - Overlays - Charts.yml
        - file: config/TV Shows - Overlays - Networks.yml
        - file: config/TV Shows - Overlays - Ratings.yml
        - file: config/TV Shows - Overlays - Statuses.yml
        - file: config/TV Shows - Overlays - Streaming Services.yml
        - file: config/TV Shows - Overlays - Studios.yml
        operations:
          mass_genre_update: tmdb
          mass_content_rating_update: omdb
          mass_audience_rating_update: mdb_tomatoesaudience
          mass_critic_rating_update: mdb_metacritic
          mass_user_rating_update: imdb
          mass_episode_audience_rating_update: mdb_tomatoesaudience
          mass_episode_critic_rating_update: mdb_metacritic
          mass_episode_user_rating_update: imdb

    settings:
      cache: true
      cache_expiration: 60
      asset_directory: config/assets
      asset_folders: false
      asset_depth: 0
      create_asset_folders: false
      prioritize_assets: false
      dimensional_asset_rename: false
      download_url_assets: true
      show_missing_season_assets: false
      show_missing_episode_assets: false
      show_asset_not_needed: true
      sync_mode: sync
      minimum_items: 1
      default_collection_order:
      delete_below_minimum: true
      delete_not_scheduled: false
      run_again_delay: 2
      missing_only_released: false
      only_filter_missing: false
      show_unmanaged: false
      show_filtered: false
      show_options: false
      show_missing: false
      show_missing_assets: false
      save_report: false
      tvdb_language: eng
      ignore_ids:
      ignore_imdb_ids:
      item_refresh_delay: 0
      playlist_sync_to_user: all
      playlist_exclude_user:
      playlist_report: false
      verify_ssl: true
      custom_repo:
      check_nightly: false
      show_unconfigured: true
      playlist_exclude_users:

    plex:
      url: http://plex.media.svc:32400
      token: ${SECRET_PLEX_APIKEY}
      timeout: 60
      clean_bundles: false
      empty_trash: false
      optimize: false

    tmdb:
      apikey: ${SECRET_TMDB_APIKEY}
      language: en
      cache_expiration: 60
      region:

    tautulli:
      url: http://tautulli.media.svc:8181
      apikey: ${SECRET_TAUTULLI_APIKEY}

    omdb:
      apikey: ${SECRET_OMDB_APIKEY}
      cache_expiration: 60

    mdblist:
      apikey: ${SECRET_MDBLIST_APIKEY}
      cache_expiration: 60

    radarr:
      url: http://radarr.media.svc:7878
      token: ${SECRET_RADARR_APIKEY}
      add_missing: false
      add_existing: false
      root_folder_path: /media/movies
      monitor: true
      availability: announced
      quality_profile: Web-1080p
      tag:
      search: false
      radarr_path:
      plex_path:
      upgrade_existing: false

    sonarr:
      url: http://sonarr.media.svc:8989
      token: ${SECRET_SONARR_APIKEY}
      add_missing: false
      add_existing: false
      root_folder_path: /media/shows
      monitor: all
      quality_profile: Web-1080p
      language_profile: English
      series_type: standard
      season_folder: true
      tag:
      search: false
      cutoff_search: false
      sonarr_path:
      plex_path:
      upgrade_existing: false

    trakt:
      client_id: ${SECRET_TRAKT_CLIENT_ID}
      client_secret: ${SECRET_TRAKT_CLIENT_SECRET}
      authorization:
        access_token: ${SECRET_TRAKT_ACCESS_TOKEN}
        token_type: Bearer
        expires_in: ${SECRET_TRAKT_EXPIRES_IN}
        refresh_token: ${SECRET_TRAKT_REFRESH_TOKEN}
        scope: public
        created_at: ${SECRET_TRAKT_CREATED_AT}
      pin:
  Pre-rolls.yml: |
    collections:
      ############################
      #          MONTHS          #
      ############################

      Regular:
        build_collection: false
        server_preroll: /config/prerolls/Regular/Abstract Plex Pre-roll.mp4;/config/prerolls/Regular/Cartoon Ink Plex Pre-roll.mp4;/config/prerolls/Regular/Shape Filling Plex Pre-roll.mp4;/config/prerolls/Regular/Sleek Short Plex Pre-roll.mp4;/config/prerolls/Regular/Splash Cartoon Plex Pre-roll.mp4;/config/prerolls/Regular/Standard Plex Pre-roll with Chime.mp4
        schedule:
          - range(01/01-01/31) # January
          - range(03/01-03/31) # March
          - range(04/01-04/30) # April
          - range(05/01-05/31) # May
          - range(07/01-07/31) # July
          - range(08/01-08/31) # August
          - range(09/01-09/30) # September
          - range(11/01-11/30) # November
          - range(12/01-12/31) # December
      Black History:
        build_collection: false
        server_preroll: /config/prerolls/Black History/Black History Plex Pre-roll.mp4
        schedule: range(02/01-02/28) # February
      Pride:
        build_collection: false
        server_preroll: /config/prerolls/Pride/Netflix Pride Colors Pre-roll.mp4
        schedule: range(06/01-06/30) # June
      Halloween:
        build_collection: false
        server_preroll: /config/prerolls/Halloween/Halloween Pack V01 Plex Pre-roll.mp4;/config/prerolls/Halloween/Halloween Pack V02 Plex Pre-roll.mp4;/config/prerolls/Halloween/Halloween Pack V03 Plex Pre-roll.mp4;/config/prerolls/Halloween/Halloween Pack V05 Plex Pre-roll.mp4;/config/prerolls/Halloween/Halloween Pack V05 Plex Pre-roll.mp4;/config/prerolls/Halloween/Halloween Pack V06 Plex Pre-roll.mp4;/config/prerolls/Halloween/Halloween Pack V07 Plex Pre-roll.mp4;/config/prerolls/Halloween/Halloween Pack V08 Plex Pre-roll.mp4;/config/prerolls/Halloween/Halloween Pack V09 Plex Pre-roll.mp4
        schedule: range(10/01-10/31) # October

      ############################
      #         SPECIALS         #                                            # https://www.timeanddate.com/holidays/fun
      ############################

      Valentine's Day:
        build_collection: false
        server_preroll: /config/prerolls/Valentines/Valentines Hearts Plex Pre-roll.mp4
        schedule: yearly(02/14) # This changes yearly
      Easter:
        build_collection: false
        server_preroll: /config/prerolls/Easter/Happy Easter Plex Pre-roll.mp4
        schedule: yearly(04/09) # This changes yearly
      Thanksgiving:
        build_collection: false
        server_preroll: /config/prerolls/Thanksgiving/Happy Thanksgiving Plex Pre-roll.mp4
        schedule: yearly(11/23) # This changes yearly
      Christmas:
        build_collection: false
        server_preroll: /config/prerolls/Christmas/Magic Christmas Tree Plex Pre-roll.mp4
        schedule: range(12/20-12/25)
      New Years:
        build_collection: false
        server_preroll: /config/prerolls/New Years/New Years Fireworks Plex Pre-roll.mp4
        schedule: range(12/31-01/07)
