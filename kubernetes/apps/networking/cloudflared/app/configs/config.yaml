---
warp-routing:
  enabled: true

originRequest:
  http2Origin: true

ingress:
  - hostname: "arc-webhook.${SECRET_PUBLIC_DOMAIN}"
    service: &ingress https://contour-envoy.networking.svc.cluster.local
    originRequest:
      originServerName: arc-webhook.${SECRET_PUBLIC_DOMAIN}

  - hostname: "flux-webhook.${SECRET_PUBLIC_DOMAIN}"
    service: *ingress
    originRequest:
      originServerName: flux-webhook.${SECRET_PUBLIC_DOMAIN}

  - hostname: "auth.${SECRET_PUBLIC_DOMAIN}"
    service: *ingress
    originRequest:
      originServerName: auth.${SECRET_PUBLIC_DOMAIN}

  - hostname: "requests.${SECRET_PUBLIC_DOMAIN}"
    service: *ingress
    originRequest:
      originServerName: requests.${SECRET_PUBLIC_DOMAIN}

  - hostname: "plex.${SECRET_PUBLIC_DOMAIN}"
    service: *ingress
    originRequest:
      originServerName: plex.${SECRET_PUBLIC_DOMAIN}
      keepAliveTimeout: 15m

  - hostname: "tautulli.${SECRET_PUBLIC_DOMAIN}"
    service: *ingress
    originRequest:
      originServerName: tautulli.${SECRET_PUBLIC_DOMAIN}

  - hostname: "invite.${SECRET_PUBLIC_DOMAIN}"
    service: *ingress
    originRequest:
      originServerName: invite.${SECRET_PUBLIC_DOMAIN}

  - hostname: "grafana.${SECRET_PUBLIC_DOMAIN}"
    service: *ingress
    originRequest:
      originServerName: grafana.${SECRET_PUBLIC_DOMAIN}

  - service: http_status:404
