---
warp-routing:
  enabled: true

ingress:
  - hostname: "arc-webhook.${SECRET_PUBLIC_DOMAIN}"
    service: &ingress https://contour-envoy.networking.svc.cluster.local
    originRequest:
      http2Origin: true
      originServerName: "arc-webhook.${SECRET_PUBLIC_DOMAIN}"

  - hostname: "flux-webhook.${SECRET_PUBLIC_DOMAIN}"
    service: *ingress
    originRequest:
      http2Origin: true
      originServerName: "flux-webhook.${SECRET_PUBLIC_DOMAIN}"

  - hostname: "auth.${SECRET_PUBLIC_DOMAIN}"
    service: *ingress
    originRequest:
      http2Origin: true
      originServerName: "auth.${SECRET_PUBLIC_DOMAIN}"

  - hostname: "requests.${SECRET_PUBLIC_DOMAIN}"
    service: *ingress
    originRequest:
      http2Origin: true
      originServerName: "requests.${SECRET_PUBLIC_DOMAIN}"

  - hostname: "plex.${SECRET_PUBLIC_DOMAIN}"
    service: *ingress
    originRequest:
      http2Origin: true
      originServerName: "plex.${SECRET_PUBLIC_DOMAIN}"
      keepAliveTimeout: 15m

  - hostname: "tautulli.${SECRET_PUBLIC_DOMAIN}"
    service: *ingress
    originRequest:
      http2Origin: true
      originServerName: "tautulli.${SECRET_PUBLIC_DOMAIN}"

  - hostname: "invite.${SECRET_PUBLIC_DOMAIN}"
    service: *ingress
    originRequest:
      http2Origin: true
      originServerName: "invite.${SECRET_PUBLIC_DOMAIN}"

  - hostname: "grafana.${SECRET_PUBLIC_DOMAIN}"
    service: *ingress
    originRequest:
      http2Origin: true
      originServerName: "grafana.${SECRET_PUBLIC_DOMAIN}"

  - service: http_status:404
